<!DOCTYPE html>
<html>
  <head>
    <title>Map test</title>
    <meta name="viewport" content="initial-scale=1.0">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
    crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <meta charset="utf-8">
    <style>
 
      #map {
        height: 500px;
      }
      
      html, body {
        height: 100%;
        margin: 10px;
        padding: 10px;
      }
    </style>
  </head>
  <body>
      
    <div class=container>
            <div class=jumbotron>
                  <h2>Orlando Safe Streets Project</h2>
            <div id="map"></div>

                 <br>

    <form>
            <div class="form">
                <div class="input-group mb-3">
                    <div class="input-group-prepend ">
                        <button class="button btn-warning" type="button" id="button-addon1">Enter Street Address</button>
                    </div>
                    <input type="text" class="form-control col-md-6 " placeholder="Ex. - 1324 Robinson St, Orlando, FL">
                </div>
          </form>
</div>
</div>


    <script>
      var map;
      
      var marker;

      function initMap() {
        map = new google.maps.Map(document.getElementById('map'), {
          center: {lat: 28.5383, lng: -81.3792},
          zoom: 10
        });

    var kml_url = "https://data.cityoforlando.net/api/geospatial/dpx3-qjrc?method=export&format=KML";    

    var laBoundaries = new google.maps.KmlLayer({
        url: kml_url,
        map: map
    });

    var url = 'https://data.cityoforlando.net/resource/6qd7-sr7g.json?case_offense_type=Aggravated assault';
    
    $.getJSON(url, function(data, textstatus) {
          $.each(data, function(i, entry) {
              var marker = new google.maps.Marker({
                  position: new google.maps.LatLng(entry.location_1.coordinates[1], 
                                                   entry.location_1.coordinates[0]),
                  map: map,
                  title: location.name
              });

          },
          )},
    )}
    </script>



    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyC_DEpDpIsPJFO4wxpCxjr6cJu20USSmAw&callback=initMap"
    async defer></script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
      crossorigin="anonymous"></script>


  </body>
</html>